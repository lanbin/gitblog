title: Javascript数字与字符串运算
tags:
  - 字符串
  - 数字
  - 运算
categories:
  - javascript
date: 2016-03-14 11:28:00
---
javascript是弱类型的语音,所以在语法上允许数字和字符串做运算,在不同的运算上,就会出现类型转换的问题.

<!--more-->

#### 加(+)

````javascript

01 + '01' // '101'  数字+字符串得到的结果为字符串
'01' + 01 // '011'  反过来,则结果会不同

010 + '010' // '8010' 因为第一个数字有前置零,所以会被认为是八进制的数字,在运行的时候会先将010转化为十进制的8,然后在与后面的字符串进行运算
0x10 + '010' // '16010' 通上,先将0x10转化为十进制的16,再参与运算

'010' + 010 // '0108'
'010' + 0x10 // '01016'

//当boolean参与运算时,true会转换为1,false会转化为0
1 + true // 2 
1 + false // 1

//当boolean与字符串运算时, true会转化为字符串,相当于使用了true.toString()方法
'1' + true // '1true'
'1' + false // '1false'

//当数字和对象进行运算的时候,会把两者都转化为字符换来进行拼接运算
//对于非十进制的数字,也是会先转化为十进制数字再来运算
1 + {} // '1[object Object]'
010 + {} // '8[object Object]'
````

#### 减(-)

````javascript
01 - '01' // 0  减法时,会都将算数变成数字
'01' - 01 // 0  反过来,结果也一样

010 - '010' // -2 非十进制的010依然会先变成十进制8减去后面'010'变成的数子10
0x10 - '010' // 6 (16-10)原理同上

//boolean运算原理一直,true/false分别转化为1/0参与运算

1 - {} // NaN 由于对象无法转化为数字,故有非数字类型的变量参与预算,得到的也是非数字类型的结果
````

#### 乘(*)除(/)

主要的转化原理和减法一样,均会转化为数字进行运算,费是非十进制的数字转化为十进制.


### 结论

1. 数字与字符串相加时,变成字符串
2. 其他运算时,变成数字

原因应该是,+运算符也可以使用在字符串的拼接中,那么当其一边为字符串事,机会将当前的运算当做字符串拼接.所以在使用加号的时候一定要多注意两边参与运算变量的类型.